{% extends "main/base.html" %}
{% load static %}

{% block title %}اختيار الأخصائي{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/choose_specialist.css' %}">
{% endblock %}

{% block content %}

<section class="choose-specialist-page">
  <div class="bg-circle bg-circle-1"></div>
  <div class="bg-circle bg-circle-2"></div>
  
  <h1 class="page-title">اختر الأخصائي المناسب</h1>

  <div class="specialists-grid wide-cards">

    {% for specialist in specialists %}
    <div class="specialist-card wide-card">

      <div class="avatar">
        {% if specialist.user.profile_image %}
          <img src="{{ specialist.user.profile_image.url }}" alt="صورة الأخصائي">
        {% else %}
          <span class="material-icons">person</span>
        {% endif %}
      </div>

      <h3 class="name">
        {{ specialist.user.get_full_name }}
      </h3>

      <p class="spec">{{ specialist.specialization }}</p>

      <p class="exp">
         {{ specialist.years_of_experience }} سنوات خبرة
      </p>

      <div class="rating">
        {% if specialist.ratings_count > 0 %}
          {% for _ in specialist.stars_range %}
            <span class="material-icons star filled">star</span>
          {% endfor %}
          <span class="rating-text">
            {{ specialist.average_rating }}
            ({{ specialist.ratings_count }})
          </span>
        {% else %}
          <span class="no-rating">لا يوجد تقييم بعد</span>
        {% endif %}
      </div>

      <a
        href="{% url 'specialist:specialist_detail' specialist.id %}"
        class="choose-btn"
      >
        عرض التفاصيل
      </a>

    </div>
    {% endfor %}

  </div>

</section>

{% endblock %}
