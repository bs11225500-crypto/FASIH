{% extends "main/base.html" %}
{% load static %}

{% block title %}Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ø®ØµØ§Ø¦ÙŠ{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/choose_specialist.css' %}">
{% endblock %}

{% block content %}

<section class="choose-specialist-page">
  <div class="bg-circle bg-circle-1"></div>
  <div class="bg-circle bg-circle-2"></div>
  
  <h1 class="page-title">Ø§Ø®ØªØ± Ø§Ù„Ø£Ø®ØµØ§Ø¦ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨</h1>

  <div class="specialists-grid">

    {% for specialist in specialists %}
    <div class="specialist-card">

      <div class="avatar">
        {% if specialist.user.profile_image %}
          <img src="{{ specialist.user.profile_image.url }}" alt="ØµÙˆØ±Ø© Ø§Ù„Ø£Ø®ØµØ§Ø¦ÙŠ">
        {% else %}
          <span class="material-icons">person</span>
        {% endif %}
      </div>

      <!-- Ø§Ù„Ø§Ø³Ù… -->
      <h3 class="name">
        {{ specialist.user.get_full_name }}
      </h3>

      <!-- Ø§Ù„ØªØ®ØµØµ -->
      <p class="spec">
        {{ specialist.specialization }}
      </p>

      <!-- Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¨Ø±Ø© -->
      <p class="exp">
        ðŸ•’ {{ specialist.years_of_experience }} Ø³Ù†ÙˆØ§Øª Ø®Ø¨Ø±Ø©
      </p>

      <!-- Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª -->
      {% if specialist.certificates.exists %}
        <ul class="cert-list">
          {% for cert in specialist.certificates.all|slice:":2" %}
            <li>{{ cert.title }}</li>
          {% endfor %}

          {% if specialist.certificates.count > 2 %}
            <li class="more-cert">ÙˆØºÙŠØ±Ù‡Ø§â€¦</li>
          {% endif %}
        </ul>
      {% endif %}


      <!-- Ø²Ø± Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± -->
      <a
        href="{% url 'assessment:form' %}?specialist={{ specialist.id }}"
        class="choose-btn"
      >
        Ø§Ø®ØªØ± Ø§Ù„Ø£Ø®ØµØ§Ø¦ÙŠ
      </a>

    </div>
    {% empty %}
      <p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ø®ØµØ§Ø¦ÙŠÙŠÙ† Ù…Ø¹ØªÙ…Ø¯ÙŠÙ† Ø­Ø§Ù„ÙŠØ§Ù‹</p>
    {% endfor %}

  </div>

</section>

{% endblock %}
