{% extends "specialist/base_specialist.html" %}
{% load static %}

{% block specialist_css %}
<link rel="stylesheet" href="{% static 'css/treatment_patients.css' %}">

{% endblock %}
{% block specialist_content %}

<div class="treatment-card-wrapper">
    <div class="treatment-card">

        <h1 class="page-title">الخطط العلاجية</h1>

        {% if patients %}
        <table class="patients-table">
            <thead>
                <tr>
                    <th>اسم المريض</th>
                    <th>رقم الملف</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for patient in patients %}
                <tr>
                    <td>{{ patient.user.get_full_name }}</td>
                    <td>{{ patient.file_number }}</td>
                    <td>
                        <a class="view-btn"
                           href="{% url 'treatment:create_treatment_plan' patient.file_number %}">
                            إنشاء / عرض الخطة
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
            <div class="empty-state">
                <h3>لا يوجد مرضى حالياً</h3>
                <p>سيتم عرض المرضى هنا عند إضافتهم</p>
            </div>
        {% endif %}

    </div>
</div>

{% endblock %}
