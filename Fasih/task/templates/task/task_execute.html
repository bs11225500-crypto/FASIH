{% extends "patient/base_patient.html" %}
{% load static %}

{% block title %}ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ…Ø±ÙŠÙ†{% endblock %}

{% block patient_css %}
<link rel="stylesheet" href="{% static 'css/task_execute.css' %}">
{% endblock %}

{% block patient_content %}

<div class="execute-wrapper">

    <div class="execute-card">

        <h2 class="execute-title">
            ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ…Ø±ÙŠÙ†
        </h2>

        <p class="execute-subtitle">
            Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ ØµÙˆØªÙƒ ÙˆØµÙˆØ±ØªÙƒ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ù†Ø·Ù‚ Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
        </p>

        <!-- Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ -->
        <div class="camera-box">
            <video id="camera" autoplay muted></video>
        </div>

        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
        <div class="controls">

            <button id="startBtn" class="btn start" onclick="startRecording()">
                â–¶ï¸ Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
            </button>

            <button id="stopBtn" class="btn stop" onclick="stopRecording()" style="display:none;">
                â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù
            </button>

            <button id="retryBtn" class="btn retry" onclick="retryRecording()" style="display:none;">
                ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
            </button>
             <!-- Ø²Ø± Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡ -->
            <button class="btn finish" onclick="finishTask()" id="finishBtn" style="display:none;">
                âœ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
            </button>

        </div>


        <p id="status" class="status-text"></p>


        <p class="hint">
            Ø­Ø§ÙˆÙ„ Ù†Ø·Ù‚ Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø¨ÙˆØ¶ÙˆØ­ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø³Ø§Ø¨Ù‚
        </p>

    </div>
   

</div>




{% endblock %}

{% block extra_js %}
<script>
  const FINISH_TASK_URL = "{% url 'task:finish_task' task.id %}";
  const TASKS_URL = "{% url 'task:daily_tasks' %}";
  const CSRF_TOKEN = "{{ csrf_token }}";
</script>



<script src="{% static 'js/task_execute.js' %}"></script>
{% endblock extra_js %}