{% extends "patient/base_patient.html" %}
{% load static %}

{% block title %}ุชูููุฐ ุงูุชูุฑูู{% endblock %}

{% block patient_css %}
<link rel="stylesheet" href="{% static 'css/task_execute.css' %}">
{% endblock %}

{% block patient_content %}

<div class="execute-wrapper">

    <div class="execute-card">

        <h2 class="execute-title">
            ุชูููุฐ ุงูุชูุฑูู
        </h2>

        
        <p class="execute-subtitle">
            ุณูุชู ุชุณุฌูู ุตูุชู ูุตูุฑุชู ููุชุฃูุฏ ูู ูุทู ุงูุชูุฑูู ุจุดูู ุตุญูุญ
        </p>

        <div class="execute-info-box">
            <p class="execute-info-title">ุชูุจูู ููู:</p>

            <div class="execute-info-item">
                ุงูุชุฑุจ ูู ุงููุงููุฑุง ูุงุฌุนู ููู ูุงุถุญูุง
            </div>

            <div class="execute-info-item">
                ุชุฃูุฏ ูู ูุฌูุฏ ุฅุถุงุกุฉ ุฌูุฏุฉ
            </div>

            <div class="execute-info-item">
                ุณูุชู ุชุณุฌูู ุตูุชู ูุตูุฑุชู ุฃุซูุงุก ุงูุชูุฑูู ููุชุญูู ูู ุตุญุฉ ุงููุทู
            </div>
        </div>





        <!-- ูุนุงููุฉ ุงููุงููุฑุง -->
        <div class="camera-box">
            <video id="camera" autoplay muted></video>
        </div>

        <!-- ุฃุฒุฑุงุฑ ุงูุชุญูู -->
        <div class="controls">

            <button id="startBtn" class="btn start" onclick="startRecording()">
                โถ๏ธ ุงุจุฏุฃ ุงูุชุณุฌูู
            </button>

            <button id="stopBtn" class="btn stop" onclick="stopRecording()" style="display:none;">
                โน๏ธ ุฅููุงู
            </button>

            <button id="retryBtn" class="btn retry" onclick="retryRecording()" style="display:none;">
                ๐ ุฅุนุงุฏุฉ ุงููุญุงููุฉ
            </button>
             <!-- ุฒุฑ ุงูุฅููุงุก -->
            <button class="btn finish" onclick="finishTask()" id="finishBtn" style="display:none;">
                โ ุฅููุงุก ุงูุชูุฑูู
            </button>

        </div>


        <p id="status" class="status-text"></p>


        <p class="hint">
            ุญุงูู ูุทู ุงูุชูุฑูู ุจูุถูุญ ููุง ูู ุงูููุฏูู ุงูุณุงุจู
        </p>

    </div>
   

</div>




{% endblock %}

{% block extra_js %}
<script>
  const FINISH_TASK_URL = "{% url 'task:finish_task' task.id %}";
  const TASKS_URL = "{% url 'task:daily_tasks' %}";
  const CSRF_TOKEN = "{{ csrf_token }}";
</script>



<script src="{% static 'js/task_execute.js' %}"></script>
{% endblock extra_js %}